<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="es" lang="es"><head><title>Revista PHP - Criando um contator com TXT + PHP</title>



	<meta name="resource-types" content="document">
	<meta http-equiv="pragma" content="no-cache">
	<meta name="revisit-after" content="1">
	<meta name="classification" content="Internet">
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<meta name="Description" content="Revista PHP é a primeira revista do Brasil criada para desenvolvedores PHP.">
	<meta name="Keywords" content=" php, php4, php5, php6, smart, phpeclipse,zend,zend2, java, sql, mysql, postgresql, oracle,oci, phpmagazine, javascript, css, XHTML HTML, tableless, revista, magazine, XML, postgres, Zend Framework">
	<meta name="robots" content="ALL">
	<meta name="distribution" content="Global">
	<meta name="ICBM" content="-20.2982,-40.3298">
	<meta name="DC.title" content="Revista PHP">
	<meta name="rating" content="General">
	<meta name="author" content="Revista PHP">
	<meta name="language" content="pt-br">
	<meta name="doc-class" content="Completed">

	<meta name="doc-rights" content="Public">
	<link rel="shortcut icon" href="http://www.revistaphp.com.br/ico/favicon.ico">
	

	<link rel="stylesheet" type="text/css" href="contador%20com%20txt%20e%20php_arquivos/artigos.css">

	<link rel="stylesheet" type="text/css" href="contador%20com%20txt%20e%20php_arquivos/artigo.css">

    <style type="text/css">
<!--
.style1 {color: #FF6600}
.style3 {color: #000033}
.style2 {color: #FF6600}
.style4 {color: #F0F0F0}
.style5 {color: #669900}
#Layer2 {
	position:absolute;
	left:16px;
	top:147px;
	width:565px;
	height:27px;
	z-index:2;
}

-->
    </style>
    <script type="text/JavaScript">
<!--
function MM_openBrWindow(theURL,winName,features) { //v2.0
  window.open(theURL,winName,features);
}
//-->
    </script><script charset="utf-8" id="injection_graph_func" src="contador%20com%20txt%20e%20php_arquivos/injection_graph_func.js"></script></head><body>
	
	<div id="web">
<script>
//Verificar se a resolução vídeo for > 800 X 600
if(screen.width > 800)
{
	document.write ('<div style="display: block;" id="barradireita" >');
	document.write ('<div class="BarraBox" >');
	document.write ('<h2><a href="http://www.revistaphp.com.br/"><span>Revista PHP</span></a></h2>');
	document.write ('<ul><li>')
	document.write ('<iframe name="topo" width="160" height="600" src="barra1.php" framespacing="0" frameborder="no" scrolling="no"  allowtransparency="true" marginwidth="0" marginheight="0">')
	document.write ('</iframe>')
	document.write ('</li></ul>')
	document.write ('</div>');
	document.write ('</div>');
}

</script><div style="display: block;" id="barradireita"><div class="BarraBox"><h2><a href="http://www.revistaphp.com.br/"><span>Revista PHP</span></a></h2><ul><li><iframe name="topo" src="contador%20com%20txt%20e%20php_arquivos/barra1.htm" framespacing="0" allowtransparency="true" marginwidth="0" marginheight="0" frameborder="no" height="600" scrolling="no" width="160"></iframe></li></ul></div></div> 
	 <div id="publicidade">
	  <a href="http://tehospedo.com.br/?xind=revistaphp.com.br" target="_blank"><img style="display: none;" src="contador%20com%20txt%20e%20php_arquivos/banner_revistaPHP.gif" border="0" height="90" width="728"></a>
</div>
<div id="toporevista">
			<a href="http://www.revistaphp.com.br/index.php" id="logo"><img src="contador%20com%20txt%20e%20php_arquivos/logo.gif" alt="Revista PHP" img="" border="0" height="93" width="246"></a>
			<a href="http://www.revistaphp.com.br/index.php" id="banner"><img style="display: none;" src="contador%20com%20txt%20e%20php_arquivos/banner120.gif" alt="Revista PHP" onclick="MM_openBrWindow('upload.php','artigo','width=400,height=280')" img="" border="0" height="60" width="120"></a>

			<form method="get" action="artigos_resultado.php" name="form_search" id="buscador">
				Palavra:&nbsp;&nbsp;&nbsp; 
				<input name="p" size="38" maxlength="255" style="border: 1px solid rgb(153, 153, 153);" value="" id="sbi" class="form_search_input" type="text"><img title="Max field length is 255" style="border: 0pt none ; width: 14px; height: 19px; cursor: pointer;" class="ife_marker" src="contador%20com%20txt%20e%20php_arquivos/marker.png" id="p_ife_marker_0" align="absmiddle">
				<label> <br>
				Categoria:
                <select name="c" class="form_search_select" id="c" style="border: 1px solid rgb(153, 153, 153); width: 120px;">

				  <option value="0">Selecione...</option>
<option value="6">Acessibilidade</option><option value="2">AJAX</option><option value="3">Banco de Dados</option><option value="4">CSS</option><option value="15">Frameworks</option><option value="13">GTK</option><option value="16">IDEs</option><option value="8">Java Script</option><option value="17">Miscelânea </option><option value="10">MySQL</option><option value="11">Oracle</option><option value="1">PHP</option><option value="14">Segurança</option><option value="7">Tableless </option><option value="12">Templates</option><option value="9">XHTML</option><option value="5">XML</option>	            </select>
				</label>
			  <label>
					<input name="buscar" src="contador%20com%20txt%20e%20php_arquivos/btn-buscar.gif" type="image">
			  </label>
			</form>		
</div><div id="Destaque">
			<div id="Cabecalho">
 	<h2>Revista PHP  /  PHP</h2>
				
	            <ul class="submenu">
		<li class="texto"><strong>Publicado:  13/06/2007</strong></li>
        <li class="ultimo-lista"><a href="http://www.revistaphp.com.br/colaborador.php?cduser=1291"> Ver todos artigos</a></li>
</ul>
					<div id="DestaqueFundo">
					
		<div class="DestaqueTexto">
			<div>
   	
   <a href="http://www.revistaphp.com.br/colaborador.php?cduser=1291" class="imagem"><img class="imagem" src="contador%20com%20txt%20e%20php_arquivos/nda.gif" title="Marcelo Nunes Simoni" border="0" height="75" width="65"></a>				
	<h3>Marcelo Nunes Simoni</h3>
	<p class="descricao-corta">Formado
em ciência da computação &#8211; UNIS MG, pós-graduado em Redes de
Computadores &#8211; UNIS MG, analista de sistemas, professor e desenvolvedor
WEB.</p>	
				
		  </div>		
		</div>			
		</div>			
	</div>
			
	  </div>
	  
		<div id="opcoes_artigos">
		  <div id="interacao">
		    <ul class="submenu"><script type="text/javascript"><!--
google_ad_client = "pub-1912416589418666";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "006699";
google_color_text = "000000";
google_color_url = "008000";
//-->
</script>
<script style="display: none;" type="text/javascript" src="barra1_data/show_ads.js">
</script>
            </ul>
		  </div>
		</div>
		
		<div id="novidades-foro">
			<div id="novidades">
				<h2>Criando um contator com TXT + PHP</h2>
			
		
				<div id="novidades-content">
			    <div class="descricao">
Criamos um contador, programado em PHP, que leva a conta das impressões
que foram realizadas numa página web, utilizando um arquivo de texto
como apoio.<br>
<br>
O objetivo é levar uma contagem das vezes que uma página foi visitada. <br>
<br>
Colocamos o seguinte script PHP ao final da página, se entenderá bem se for lido o artigo citado antes. <br>
<pre class="php" style="border: 1px solid rgb(208, 208, 208); color: rgb(0, 0, 102); background-color: rgb(240, 240, 240);"><div class="head">PHP</div><ol><li class="li1"><div class="de1"><span class="kw2">&lt;?</span> </div></li><li class="li1"><div class="de1"><span class="re0">$arquivo</span> = <span class="st0">"contador.txt"</span>; </div></li><li class="li1"><div class="de1"><span class="re0">$contador</span> = <span class="nu0">0</span>; </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li2"><div class="de2"><span class="re0">$fp</span> = <a target="_blank" href="http://www.php.net/fopen"><span class="kw3">fopen</span></a><span class="br0">(</span><span class="re0">$arquivo</span>,<span class="st0">"r"</span><span class="br0">)</span>; </div></li><li class="li1"><div class="de1"><span class="re0">$contador</span> = <a target="_blank" href="http://www.php.net/fgets"><span class="kw3">fgets</span></a><span class="br0">(</span><span class="re0">$fp</span>, <span class="nu0">26</span><span class="br0">)</span>; </div></li><li class="li1"><div class="de1"><a target="_blank" href="http://www.php.net/fclose"><span class="kw3">fclose</span></a><span class="br0">(</span><span class="re0">$fp</span><span class="br0">)</span>; </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">++<span class="re0">$contador</span>; </div></li><li class="li2"><div class="de2">&nbsp;</div></li><li class="li1"><div class="de1"><span class="re0">$fp</span> = <a target="_blank" href="http://www.php.net/fopen"><span class="kw3">fopen</span></a><span class="br0">(</span><span class="re0">$arquivo</span>,<span class="st0">"w+"</span><span class="br0">)</span>; </div></li><li class="li1"><div class="de1"><a target="_blank" href="http://www.php.net/fwrite"><span class="kw3">fwrite</span></a><span class="br0">(</span><span class="re0">$fp</span>, <span class="re0">$contador</span>, <span class="nu0">26</span><span class="br0">)</span>; </div></li><li class="li1"><div class="de1"><a target="_blank" href="http://www.php.net/fclose"><span class="kw3">fclose</span></a><span class="br0">(</span><span class="re0">$fp</span><span class="br0">)</span>; </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li2"><div class="de2"><span class="st0">"Esta página foi visitada $contador vezes"</span>; </div></li><li class="li1"><div class="de1"><span class="kw2">?&gt;</span> </div></li></ol><div class="foot">www.revistaphp.com.br</div></pre>
<p class="MsoNormal">Ademais, criamos um arquivo chamado "contador.txt"
que salvamos no mesmo diretório que a página. Tal arquivo foi
inicializado com um zero (0) como único texto. </p>
<div align="center">
<table class="MsoNormalTable" style="width: 90%;" border="0" cellpadding="0" width="90%">
    <tbody>
        <tr style="">
            <td style="padding: 1.5pt;">
            <p class="MsoNormal"><strong>Nota:</strong>
Se tiver problemas na hora de escrever em um arquivo, quase com toda
probabilidade, estará protegido contra escritura. Ou o arquivo ou então
o diretório. <br>
            <br> Se você tiver seu próprio servidor
terá que modificar as permissões do tal arquivo ou diretório por sua
conta. Entretanto, se estiver publicando em uma hospedagem contratada
em uma provedor terá que se informar de que mecanismo há que colocar em
funcionamento nesse provedor para conseguir as permissões. Em muitos
casos existirá um painel de controle onde modificar essas coisas, em
outros casos terá que escrever ao suporte técnico para que eles façam a
mão ou que digam como fazer, se é que é possível. </p>
            </td>
        </tr>
    </tbody>
</table>
</div>
<p>Com isso já está feito um contador muito simples, mas muito funcional. </p>
<p>Site: www.netcenterdesign.com.br</p> </div></div>																																																																										
			</div>
			
		</div>
		
		
		<div id="opcoes_artigos">
		  <div id="interacao">
				<h2 align="left">Opções de Interação </h2>
				
                <div align="center">
                  <ul class="submenu">	
                            <div align="left"><img src="contador%20com%20txt%20e%20php_arquivos/comentar.gif" style="cursor: pointer;" title="Comentar" onclick="MM_openBrWindow('pop_comentar.php?id=138','comentario','width=420,height=220')" height="21" width="100">
                              <span class="activa"><img src="contador%20com%20txt%20e%20php_arquivos/colunista.gif" onclick="MM_openBrWindow('popups/colunista.php?c=1291','colunista','width=400,height=200')" title="Fale com o colunista" style="cursor: pointer;" height="21" width="165"> </span><span class="activa"><img src="contador%20com%20txt%20e%20php_arquivos/indicar.gif" onclick="MM_openBrWindow('popups/indicacao.php?id=138','colunista','width=400,height=200')" title="Indicar artigo" height="21" width="120"></span> <a href="http://www.revistaphp.com.br/print.php?id=138" target="_blank"><img src="contador%20com%20txt%20e%20php_arquivos/imprimir.gif" style="cursor: pointer;" title="Versão de impressão" height="21" width="90"></a> <a href="http://groups.google.com.br/group/listaphp" target="_blank"><img src="contador%20com%20txt%20e%20php_arquivos/duvidas.gif" title="Lista PHP Google" height="21" width="90"></a> 
							   
							   <img src="contador%20com%20txt%20e%20php_arquivos/favoritos.gif" style="cursor: pointer;" title="Adicionar aos Favoritos" onclick="MM_openBrWindow('pop_favoritos.php?id=138&acao=add','favoritos','width=420,height=220')" height="21" width="150">
							  							  </div>
                            <li class="activa"></li>
<li class="activa">&nbsp;</li>
</ul>
            </div>
              <ul class="submenu">
            </ul>
		  </div>
		</div>
	<div id="novidades-foro">
			<div id="novidades">
				<h2>Comentários</h2>
				
	            <ul class="submenu">	
		<li class="activa"><a style="cursor: pointer;" onclick="MM_openBrWindow('pop_comentar.php?id=138','comentario','width=420,height=220')">Incluir Comentário  </a></li>
<li class="ultimo-lista"><a href="#"> Ver todos </a></li>
<li class="activa"></li></ul>
		
				<div id="novidades-content">
			    <div class="descricao">
				  </div>
				</div>																																																																										
			</div>
			
	  </div>
	  <div id="final"><a href="http://www.revistaphp.com.br/index.php"><img src="contador%20com%20txt%20e%20php_arquivos/logo.gif" border="0" height="93" width="246"></a>
</div>
		
</div>
	<script src="contador%20com%20txt%20e%20php_arquivos/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-313498-1";
		urchinTracker();
	</script>
</body></html>